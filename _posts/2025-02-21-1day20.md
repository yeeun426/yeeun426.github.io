---
title: "[Day20] ê·¸ë˜í”„ ì‘ìš©"
categories: [Ureca, Algorithm]
tags: [Graph, BFS, DFS]
image:
  path: /assets/post/2025/ureca/algorithm.png
  alt: java
published: true
---

## ê°€ì¤‘ì¹˜ê°€ ì—†ëŠ” ê·¸ë˜í”„ - BFS (ë„ˆë¹„ ìš°ì„  íƒìƒ‰) ì‚¬ìš©

- ê°€ì¤‘ì¹˜ê°€ ì—†ëŠ” ê·¸ë˜í”„ì—ì„œ ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ì„ ë•ŒëŠ” BFSê°€ ê°€ì¥ íš¨ìœ¨ì ì´ë‹¤.
- ì˜ˆì œ : ë¯¸ë¡œ ì°¾ê¸°, íŠ¹ì • ì •ì ê¹Œì§€ì˜ ìµœì†Œ ì´ë™ íšŸìˆ˜

### BFSë¡œ ìµœë‹¨ ê²½ë¡œ ì°¾ëŠ” ì›ë¦¬
1. **í(Queue) ì‚¬ìš©**: ì‹œì‘ ì •ì ì„ íì— ë„£ê³  íƒìƒ‰ì„ ì‹œì‘í•©ë‹ˆë‹¤.  
2. **ë°©ë¬¸ ì²´í¬ ë°°ì—´ ì‚¬ìš©**: ì¤‘ë³µ ë°©ë¬¸ì„ ë°©ì§€í•©ë‹ˆë‹¤.  
3. **ê²½ë¡œ ì €ì¥**  
   - `ë°°ì—´`ì„ ì´ìš©í•˜ì—¬ ë¶€ëª¨ ë…¸ë“œë¥¼ ì €ì¥  
   - `Node` í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ê° ì •ì ì˜ ë¶€ëª¨ë¥¼ ê¸°ë¡
4. **ëª©í‘œ ë…¸ë“œ ë„ë‹¬ ì‹œ ê²½ë¡œ ì¶”ì **  


### ê²½ë¡œë¥¼ ì¶”ì í•˜ê¸° ìœ„í•´ parentì˜ ì •ë³´ë¥¼ ì €ì¥í•  ë°°ì—´ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
```
### ë¬¸ì œ: ìµœë‹¨ ê²½ë¡œ ì°¾ê¸°

**ë¬¸ì œ ì„¤ëª…**
ì£¼ì–´ì§„ ë¬´ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ë‘ ë…¸ë“œ ê°„ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ì°¾ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ê·¸ë˜í”„ëŠ” Nê°œì˜ ë…¸ë“œì™€ Mê°œì˜ ê°„ì„ ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° ê°„ì„ ì€ ë‘ ë…¸ë“œë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. ì‹œì‘ ë…¸ë“œì™€ ëª©í‘œ ë…¸ë“œê°€ ì£¼ì–´ì§ˆ ë•Œ, ì´ ë‘ ë…¸ë“œ ê°„ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ì¶œë ¥í•˜ì‹œì˜¤.

**ì…ë ¥**
- ì²«ì§¸ ì¤„ì— ë‘ ê°œì˜ ì •ìˆ˜ N(1 â‰¤ N â‰¤ 1000)ê³¼ M(1 â‰¤ M â‰¤ 10000)ì´ ì£¼ì–´ì§„ë‹¤. Nì€ ë…¸ë“œì˜ ê°œìˆ˜, Mì€ ê°„ì„ ì˜ ê°œìˆ˜ì´ë‹¤.
- ë‹¤ìŒ Mê°œì˜ ì¤„ì—ëŠ” ê°„ì„  ì •ë³´ê°€ ì£¼ì–´ì§„ë‹¤. ê° ì¤„ì€ ë‘ ê°œì˜ ì •ìˆ˜ uì™€ v(1 â‰¤ u, v â‰¤ N)ë¥¼ í¬í•¨í•˜ë©°, ì´ëŠ” ë…¸ë“œ uì™€ ë…¸ë“œ vê°€ ê°„ì„ ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.
- ë§ˆì§€ë§‰ ì¤„ì—ëŠ” ì‹œì‘ ë…¸ë“œ Sì™€ ëª©í‘œ ë…¸ë“œ Gê°€ ì£¼ì–´ì§„ë‹¤.

**ì¶œë ¥**
- ì‹œì‘ ë…¸ë“œ Sì—ì„œ ëª©í‘œ ë…¸ë“œ Gê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ì¶œë ¥í•œë‹¤. ê²½ë¡œëŠ” ë…¸ë“œ ë²ˆí˜¸ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•˜ë©°, ê²½ë¡œê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° `-1`ì„ ì¶œë ¥í•œë‹¤.

**ì…ë ¥**
5 5
1 2
1 3
2 4
3 4
4 5
1 5

**ì¶œë ¥**
1 2 4 5
```
 
```java
import java.util.*;

public class BFS_ìµœë‹¨ê²½ë¡œ {
    static StringBuilder sb = new StringBuilder(); // ê²½ë¡œë¥¼ ì €ì¥í•  StringBuilder
    static boolean found = false; // ê²½ë¡œê°€ ë°œê²¬ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        
        // ë…¸ë“œì˜ ìˆ˜ Nê³¼ ê°„ì„ ì˜ ìˆ˜ Mì„ ì…ë ¥ë°›ìŒ
        int N = sc.nextInt(); // ë…¸ë“œì˜ ìˆ˜
        int M = sc.nextInt(); // ê°„ì„ ì˜ ìˆ˜
        
        // ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±
        List<List<Integer>> list = new ArrayList<>();
        for (int i = 0; i <= N; i++) {
            list.add(new ArrayList<>()); // ê° ë…¸ë“œì— ëŒ€í•œ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
        }
        
        // ê°„ì„  ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
        for (int i = 0; i < M; i++) {
            int from = sc.nextInt(); // ê°„ì„ ì˜ ì‹œì‘ ë…¸ë“œ
            int to = sc.nextInt();   // ê°„ì„ ì˜ ë ë…¸ë“œ

            list.get(from).add(to);  // ì–‘ë°©í–¥ ê·¸ë˜í”„ì´ë¯€ë¡œ ì–‘ìª½ì— ì¶”ê°€
            list.get(to).add(from);
        }
        
        // ì‹œì‘ ë…¸ë“œ Sì™€ ëª©í‘œ ë…¸ë“œ Gë¥¼ ì…ë ¥ë°›ìŒ
        int start = sc.nextInt();
        int goal = sc.nextInt();
        
        // ë°©ë¬¸ ì—¬ë¶€ë¥¼ ì²´í¬í•  ë°°ì—´
        boolean[] visited = new boolean[N + 1];
        // ë¶€ëª¨ ë…¸ë“œë¥¼ ì €ì¥í•  ë°°ì—´ (ê²½ë¡œ ì¶”ì ì„ ìœ„í•´ ì‚¬ìš©)
        int[] parent = new int[N + 1];
        
        // BFSë¥¼ ìœ„í•œ í ì´ˆê¸°í™”
        Queue<Integer> q = new LinkedList<>();
        q.offer(start); // ì‹œì‘ ë…¸ë“œë¥¼ íì— ì¶”ê°€
        visited[start] = true; // ì‹œì‘ ë…¸ë“œë¥¼ ë°©ë¬¸ ì²˜ë¦¬
        parent[start] = -1; // ì‹œì‘ ë…¸ë“œì˜ ë¶€ëª¨ëŠ” ì—†ìŒ
        
        // BFS íƒìƒ‰ ì‹œì‘
        while (!q.isEmpty()) {
            int cur = q.poll(); // íì—ì„œ í˜„ì¬ ë…¸ë“œë¥¼ êº¼ëƒ„
            
            // ëª©í‘œ ë…¸ë“œì— ë„ë‹¬í•œ ê²½ìš°
            if (cur == goal) {
                found = true; // ê²½ë¡œ ë°œê²¬
                break; // íƒìƒ‰ ì¢…ë£Œ
            }
            
            // í˜„ì¬ ë…¸ë“œì™€ ì—°ê²°ëœ ëª¨ë“  ë…¸ë“œë¥¼ íƒìƒ‰
            for (int i : list.get(cur)) {
                if (!visited[i]) { // ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œì¸ ê²½ìš°
                    q.offer(i); // íì— ì¶”ê°€
                    visited[i] = true; // ë°©ë¬¸ ì²˜ë¦¬
                    parent[i] = cur; // í˜„ì¬ ë…¸ë“œë¥¼ ë¶€ëª¨ë¡œ ì„¤ì •
                }
            }
        }
        
        
        if (found) {// ê²½ë¡œê°€ ë°œê²¬ëœ ê²½ìš°
            // ëª©í‘œ ë…¸ë“œì—ì„œ ì‹œì‘ ë…¸ë“œê¹Œì§€ ë¶€ëª¨ë¥¼ í†µí•´ ê²½ë¡œë¥¼ ì¶”ì 
            for (int at = goal; at != -1; at = parent[at]) {
                sb.append(at).append(" "); // ê²°ê³¼ì— ì¶”ê°€
            }
            System.out.println(sb.reverse().toString().trim());
        }else{
            System.out.println(-1);
        }
        sc.close();
    }
}
```

---

### ê²½ë¡œë¥¼ ì¶”ì í•˜ê¸° ìœ„í•´ parentì˜ ì •ë³´ë¥¼ ê°€ì§€ëŠ” ì •ì  classë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

```java
/*
    ë¬´ë°©í–¥
    ì²« ì§¸ì¤„ ì •ì ê°œìˆ˜ ê°„ì„ ê°œìˆ˜
    ë§ˆì§€ë§‰ì¤„ ì‹œì‘ì •ì  ë„ì°©ì •ì 
    ê°€ìš´ë° ê°„ì„ ì •ë³´(ì—°ê²° ì •ì )
6 9
1 2
2 4
2 5
3 4
3 6
4 5
4 6
5 6
1 4
1 6
*/

import java.util.*;

public class BFS_Node_ìµœë‹¨ê²½ë¡œ {

    // ì •ì  class ì •ì˜
    static class Node {
        int vertex; // ì •ì  ë²ˆí˜¸
        Node parent; // ë¶€ëª¨ ì •ì  (ìµœë‹¨ ê²½ë¡œ ì¶”ì ìš©)

        Node(int vertex, Node parent) {
            this.vertex = vertex;
            this.parent = parent;
        }
    }

    StringBuilder sb = new StringBuilder();

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        
        // ì…ë ¥ ë°›ìŒ
        int N = sc.nextInt(); // ì •ì ì˜ ê°œìˆ˜
        int M = sc.nextInt(); // ê°„ì„ ì˜ ê°œìˆ˜
       
        List<List<Node>> list = new ArrayList<>();
		for (int i = 0; i <= N; i++) {
			list.add(new ArrayList<>());
		}
        
        // ê°„ì„  ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì¸ì ‘ í–‰ë ¬ì„ êµ¬ì„±
		for (int i = 0; i < M; i++) {
			int from = sc.nextInt();
			int to = sc.nextInt();

			list.get(from).add(new Node(to, null));
			list.get(to).add(new Node(from, null));
		}
        
		int start = sc.nextInt();
		int goal = sc.nextInt();
        
		// ë°©ë¬¸ ì—¬ë¶€ ì²´í¬í•  ë°°ì—´
		boolean[] visited = new boolean[N + 1];

        // BFS íƒìƒ‰ ì‹œì‘
		Queue<Node> q = new LinkedList<>(); // Node ê°ì²´ì— ëŒ€í•œ ì£¼ì†Œê°€ ì €ì¥ë  í
		q.offer(new Node(start, null));
		visited[start] = true;

        Node targetNode = null; // ìµœë‹¨ ê²½ë¡œì˜ ë„ì°© ì •ì ì„ ì¶”ì í•˜ê¸° ìœ„í•œ ë³€ìˆ˜

        while (!q.isEmpty()) {
            Node curNode = q.poll(); // íì—ì„œ ì •ì  êº¼ë‚´ê¸°
            int cur = curNode.vertex; // í˜„ì¬ ì •ì  ë²ˆí˜¸

            // í˜„ì¬ ì •ì ì´ ë„ì°© ì •ì ê³¼ ê°™ìœ¼ë©´ ê²½ë¡œë¥¼ ì°¾ì•˜ìŒ
			if (cur == goal) {
				targetNode = curNode;
				break; // ê²½ë¡œë¥¼ ì°¾ì•˜ìœ¼ë‹ˆ íƒìƒ‰ ì¢…ë£Œ
			}

            // í˜„ì¬ ì •ì ì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  í›„ë³´ì§€ íƒìƒ‰
			for (Node n : list.get(cur)) {
				if (!visited[n.no]) {
					q.offer(new Node(n.no, curNode));
					visited[n.no] = true;
				}
			}
        }

        // ê²°ê³¼ ì¶œë ¥
        if (targetNode != null) {
			Node temp = targetNode;

            while (temp != null) {
				sb.insert(0, temp.no + " "); // ì•ì— ì¶”ê°€í•´ ì—­ìˆœìœ¼ë¡œ ê²½ë¡œ êµ¬ì„±
				temp = temp.parent; // ë¶€ëª¨ ë…¸ë“œë¡œ ì´ë™
            }
			System.out.println(sb);
        } else {
			System.out.println(-1);
        }
        sc.close();
    }
}
```

### ğŸ“ ì ìš© ë¬¸ì œ - ë°±ì¤€_2178_ë¯¸ë¡œíƒìƒ‰
[ë°±ì¤€_2178_ë¯¸ë¡œíƒìƒ‰](https://www.acmicpc.net/problem/2178)  

```java
/*
https://www.acmicpc.net/problem/2178
4 6
101111
101010
101011
111011
*/
import java.util.*;

public class ë°±ì¤€_2178_ë¯¸ë¡œíƒìƒ‰ {
	static int N;
	static StringBuilder sb = new StringBuilder(100);
	static int []dx= {-1,0,1,0};//ìƒìš°í•˜ì¢Œ
	static int []dy= {0,1,0,-1};//ìƒìš°í•˜ì¢Œ
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		
		int N=sc.nextInt();
		int M=sc.nextInt();		
		
		int[][] arr=new int[N][M];
		
		boolean [][]isSelected=new boolean[N][M];
		
		sc.nextLine();
		for (int i = 0; i < N; i++) {
			String oneLine=sc.nextLine();
			
			for (int j = 0; j < M; j++) {
				arr[i][j]=oneLine.charAt(j)-'0';			
			}			
		}
		
		//BFS
		//1.Queue ë§Œë“¤ê¸°
		Queue<int[]> q=new LinkedList<>();

		//2.qì— start nodeë¥¼ ë„£ëŠ”ë‹¤
		int startX=0,startY=0;
		q.offer(new int[]{startX,startY});
		
		//3.ë°©ë¬¸ì²´í¬
		isSelected[startX][startY]=true;
		
		//4.qì—ì„œ ë°ì´í„° êº¼ë‚´ì„œ ì²˜ë¦¬
		while(!q.isEmpty()) {
			int[] curV=q.poll();
			int curX=curV[0];
			int curY=curV[1];
			
			//5.í•˜ê³  ì‹¶ì€ ì¼ 			
			if(curX==N-1 && curY==M-1) {
				System.out.println(arr[curX][curY]);
			}
			
			for (int i = 0; i < 4; i++) {//4ë°© íƒìƒ‰
				int nx=curX+dx[i];
				int ny=curY+dy[i];
				
				if(nx>=0 && nx <N && ny>=0 && ny<M && arr[nx][ny]==1 && !isSelected[nx][ny]) {
					isSelected[nx][ny]=true;
					arr[nx][ny]=arr[curX][curY]+1;
					q.offer(new int[] {nx,ny});
				}
				
			}
		}		
		sc.close();
	}
}

```

---

## TEAM STUDY

### 1. ë°±ì¤€ 1697 - ìˆ¨ë°”ê¼­ì§ˆ
- BFSë¡œ ìµœë‹¨ ê²½ë¡œ ì°¾ê¸°
- ìˆœê°„ì´ë™, ì „ì§„, í›„ì§„ì˜ 3ê°€ì§€ ì¡°ê±´
[ë°±ì¤€_1697_ìˆ¨ë°”ê¼­ì§ˆ](https://www.acmicpc.net/problem/1697)  

```java
import java.util.LinkedList;
import java.util.Queue;
import java.util.Scanner;

public class Main {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);

		int N = sc.nextInt();
		int K = sc.nextInt();

		boolean[] visited = new boolean[100001];
		Queue<int[]> q = new LinkedList<>();
		int time = 0;

		q.offer(new int[] { N, time });
		visited[N] = true;

		while (!q.isEmpty()) {
			int[] arr = q.poll();
			int cur = arr[0], curTime = arr[1];
			if (cur == K) {
				System.out.print(curTime);
				break;
			}

			if (cur * 2 <= 100000 && !visited[cur * 2]) {
				q.offer(new int[] { cur * 2, curTime + 1 });
				visited[cur * 2] = true;
			}
			if (cur + 1 <= 100000 && !visited[cur + 1]) {
				q.offer(new int[] { cur + 1, curTime + 1 });
				visited[cur + 1] = true;
			}
			if (cur - 1 >= 0 && !visited[cur - 1]) {
				q.offer(new int[] { cur - 1, curTime + 1 });
				visited[cur - 1] = true;
			}
		}
		sc.close();
	}
}
```

### 2. SWEA 2805 - ë†ì‘ë¬¼ ìˆ˜í™•í•˜ê¸°

```java
import java.util.Scanner;

public class Solution {
	static StringBuilder sb = new StringBuilder();

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		int T = sc.nextInt();
		

		for (int i = 0; i < T; i++) {
			int N = sc.nextInt();
			int[][] farm = new int[N][N];
			int sum = 0;

			sc.nextLine();
			for (int j = 0; j < N; j++) {
				String str = sc.nextLine();
				for (int a = 0; a < N; a++) {
					farm[j][a] = str.charAt(a) - '0';
					sum += farm[j][a];
				}
			}

			// ì „ì²´ - ì™¼ìª½ ìœ„ í•˜ì–€ ë¶€ë¶„ ì‚¼ê°í˜• 
			for (int x = 0; x < N / 2; x++) {
				for (int y = 0; y < N / 2 - x; y++) {
					sum -= farm[x][y];
				}
			}

			// ì „ì²´ - ì˜¤ë¥¸ìª½ ìœ„ í•˜ì–€ ë¶€ë¶„ ì‚¼ê°í˜• 
			for (int x = 0; x < N / 2; x++) {
				for (int y = N / 2 + x + 1; y < N; y++) {
					sum -= farm[x][y];
				}
			}

			// ì „ì²´ - ì™¼ìª½ ì•„ë˜ í•˜ì–€ ë¶€ë¶„ ì‚¼ê°í˜• 
			for (int x = N / 2 + 1; x < N; x++) {
				for (int y = 0; y < x - N / 2; y++) {
					sum -= farm[x][y];
				}
			}

			// ì „ì²´ - ì˜¤ë¥¸ìª½ ì•„ë˜ í•˜ì–€ ë¶€ë¶„ ì‚¼ê°í˜• 
			for (int x = N / 2 + 1; x < N; x++) {
				for (int y = N - x + N / 2; y < N; y++) {
					sum -= farm[x][y];
				}
			}
			sb.append("#").append(i+1).append(" ").append(sum).append("\n");
		}
		System.out.println(sb);
		sc.close();
	}
}
```

---

## END