---
title: "[GitPulse #1] í”„ë¡œì íŠ¸ ë¼ˆëŒ€ êµ¬ì¶•: React Query, Router, throttle"
categories: [Ureca, Project]
tags: [React, JS, Express, MongoDB, React Query]
image:
  path: /assets/post/2025/ureca/gitpulse.png
  alt: React
published: true
---

## âœ… ì˜¤ëŠ˜ì˜ ëª©í‘œ

- [x] React Query ì „ì—­ ì„¤ì • ë° Devtools ì—°ê²°
- [x] throttle ìœ í‹¸ í•¨ìˆ˜ ì‘ì„±
- [x] React Router êµ¬ì„± (ë¼ìš°í„° íŠ¸ë¦¬, ë ˆì´ì•„ì›ƒ ì ìš©)
- [x] ì‚¬ì´ë“œë°” êµ¬í˜„

---

## ğŸ§© ë¬¸ì œ ìƒí™© / ë°°ê²½

> í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¸íŒ… ì¤‘, ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì´ ìˆì—ˆìŠµë‹ˆë‹¤:

- ì„œë²„ ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ React Query ë„ì…ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.
- ë¹ ë¥´ê²Œ ë°œìƒí•˜ëŠ” resize ì´ë²¤íŠ¸ì— throttleì„ ì ìš©í•´ ì„±ëŠ¥ì„ ìµœì í™”í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.
- ì „ì²´ í˜ì´ì§€ êµ¬ì¡°ë¥¼ ë¼ìš°í„° íŠ¸ë¦¬ë¡œ ëª…í™•íˆ êµ¬ì„±í•  í•„ìš”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
- ì‚¬ì´ë“œë°”ê°€ ë°˜ì‘í˜•ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.


## ğŸ› ï¸ í•´ê²° ê³¼ì • / ì½”ë“œ ì •ë¦¬

### ğŸ”¸ React Query ì „ì—­ ì„¤ì •

```bash
npm i @tanstack/react-query @tanstack/react-query-devtools
```

```js
import { StrictMode } from "react";
import { createRoot } from "react-dom/client";
import { RouterProvider } from "react-router-dom";
import { router } from "./router/index";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { ReactQueryDevtools } from "@tanstack/react-query-devtools";

// ì „ì—­ì—ì„œ Queryë¥¼ ê´€ë¦¬í•  QueryClient ìƒì„±
const queryClient = new QueryClient();

createRoot(document.getElementById("root")).render(
  <StrictMode>
    <QueryClientProvider client={queryClient}>
      <RouterProvider router={router} />
      {/* ê°œë°œ ì¤‘ì—ëŠ” ReactQueryDevtoolsë¡œ ìƒíƒœ í™•ì¸ ê°€ëŠ¥ */}
      {import.meta.env.DEV && <ReactQueryDevtools initialIsOpen={false} />}
    </QueryClientProvider>
  </StrictMode>
);
```

- React Queryë€? ë¹„ë™ê¸° ìƒíƒœë¥¼ ì‰½ê²Œ ë‹¤ë£¨ë„ë¡ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- `QueryClient`ëŠ” React Queryì˜ í•µì‹¬ ê°ì²´ë¡œ, ë°ì´í„°ë¥¼ fetchí•˜ê³  cacheë¥¼ ê´€ë¦¬
- `QueryClientProvider`ë¥¼ í†µí•´ ì „ì—­ìœ¼ë¡œ ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë©°, ì»´í¬ë„ŒíŠ¸ ì–´ë””ì„œë“  ë°ì´í„°ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ê°€ì ¸ì˜´


[TanStack Query(React Query) ë” ìì„¸íˆ ì•Œì•„ë³´ê¸°](https://yeeun426.github.io/posts/day64/)

----

### ğŸ”¸ throttle ìœ í‹¸ í•¨ìˆ˜
#### src/utils/feature.js
```js
// ì“°ë¡œí‹€ : ì¼ì • ì‹œê°„ ë™ì•ˆ í•œ ë²ˆë§Œ ì‹¤í–‰. í•¨ìˆ˜(í•¨ìˆ˜, ëŒ€ì‹œì‹œê°„)
export const throttle = (func, limit = 300) => {
  let inThrottle;
  return function (...args) {
    if (!inThrottle) {
      func.apply(this, args);
      inThrottle = true;
      setTimeout(() => (inThrottle = false), limit);
    }
  };
};
```
- ì§€ì •í•œ ì‹œê°„ ë™ì•ˆ í•œ ë²ˆë§Œ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ ì œì–´
- resize, scroll ë“±ì— ì£¼ë¡œ ì‚¬ìš©


#### debounceì™€ì˜ ì°¨ì´ì 

| êµ¬ë¶„     | throttle                          | debounce                        |
| ------ | --------------------------------- | ------------------------------- |
| ë™ì‘ ë°©ì‹  | ì¼ì • ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰               | ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ ë°œìƒ í›„ ì¼ì • ì‹œê°„ ì§€ë‚˜ë©´ ì‹¤í–‰       |
| ì‚¬ìš© ì˜ˆì‹œ  | `scroll`, `resize`, `mousemove` ë“± | `input`, `search`, `autosave` ë“± |
| ì‹¤í–‰ íƒ€ì´ë° | ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë¨                         | ì‚¬ìš©ìê°€ ë©ˆì¶˜ í›„ ì‹¤í–‰ë¨                   |


----

### ğŸ”¸ React Router êµ¬ì„±

#### src/router/index.jsx

```js
export const router = createBrowserRouter([
  {
    path: "/",
    element: <DefaultLayout />,
    errorElement: <div>ì—ëŸ¬</div>,
    children: [
      { index: true, element: <LoginPage /> },
      { path: "/organization", element: <OrganizationPage /> },
    ],
  },
]);
```

- `DefaultLayout`ì„ ê³µí†µ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì„¤ì •í•˜ê³ , ê·¸ í•˜ìœ„ì— í˜ì´ì§€ë“¤ì„ childrenìœ¼ë¡œ êµ¬ì„±
- `index: true`ëŠ” `/` ê²½ë¡œì—ì„œ ë¡œê·¸ì¸ í˜ì´ì§€ê°€ ë³´ì´ë„ë¡ ì„¤ì •

#### ë°˜ë³µë˜ëŠ” NavLink ì½”ë“œ ë¶„ë¦¬

```js
const CustomNavLink = ({ to, label, icon }) => (
  <NavLink
    className={({ isActive }) => (isActive ? `${css.active}` : "")}
    to={to}
  >
    <i className={`bi ${icon}`}></i>
    <p>{label}</p>
  </NavLink>
);
```
- CustomNavLinkë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œ ì¤‘ë³µ ì œê±°
- propsë¡œ to, label, iconë§Œ ë„˜ê²¨ì£¼ë©´ ë˜ë¯€ë¡œ ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„± í–¥ìƒ

---

### ğŸ”¸ ë°˜ì‘í˜• ì‚¬ì´ë“œë°” êµ¬í˜„
#### src/common/SideBar.jsx

```js
const handleResize = throttle(() => {
  if (window.innerWidth > 1100) {
    setIsOn(false);
  }
}, 1000);

useEffect(() => {
  window.addEventListener("resize", handleResize);
  return () => {
    window.removeEventListener("resize", handleResize);
  };
}, [handleResize]);
```

- í™”ë©´ ë„ˆë¹„ê°€ 1100px ì´ˆê³¼ ì‹œ ì‚¬ì´ë“œë°” ìë™ ë‹«í˜
- throttleë¡œ resize ì´ë²¤íŠ¸ ìµœì í™”
- `NavLink`ë¥¼ ì‚¬ìš©í•´ ê° í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±


## ì‘ì—… ê²°ê³¼ë¬¼

<img src="/assets/post/2025/ureca/day70_class_1.png" alt='' width=1300px>


## ğŸ’¡ í•µì‹¬ ê°œë… ìš”ì•½

| ê°œë…                    | ì„¤ëª…                            |
| --------------------- | ----------------------------- |
| `React Query`         | ì„œë²„ ìƒíƒœë¥¼ ìºì‹±í•˜ê³  ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| `QueryClient`         | React Query ì „ì—­ ìƒíƒœ ê´€ë¦¬ ê°ì²´       |
| `throttle(func, ms)`  | ì§€ì • ì‹œê°„ë§ˆë‹¤ í•œ ë²ˆë§Œ í•¨ìˆ˜ ì‹¤í–‰            |
| `createBrowserRouter` | React Router v6ì˜ ë¼ìš°í„° ìƒì„± í•¨ìˆ˜    |
| `RouterProvider`      | ë¼ìš°í„° íŠ¸ë¦¬ë¥¼ ë Œë”ë§í•˜ëŠ” Provider ì»´í¬ë„ŒíŠ¸   |

---

## ê²°ê³¼

* í”„ë¡œì íŠ¸ ì´ˆê¸° êµ¬ì¡°ë¥¼ ì„¸íŒ…í•˜ë©´ì„œ React Query, Router, ì‚¬ì´ë“œë°”ë¥¼ í•œ ë²ˆì— ì •ë¦¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
* throttle ê°œë…ì„ ì‹¤ìŠµì„ í†µí•´ ëª…í™•íˆ ì´í•´í•  ìˆ˜ ìˆì—ˆê³ , resize ìµœì í™”ì— ë°”ë¡œ ì ìš©í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.
* ë°˜ë³µì ì¸ UI ì½”ë“œëŠ” CustomNavLinkë¡œ ë¶„ë¦¬í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì´ê³  ì¬ì‚¬ìš©ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

---

### Reference
ì´ í¬ìŠ¤íŠ¸ëŠ” ì•„ë˜ ê²Œì‹œê¸€ì˜ ì •ë³´ ë° ì´ë¯¸ì§€ê°€ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.

1. [TanStack Query ê³µì‹ ë¬¸ì„œ](https://tanstack.com/query/latest)
2. [React Router v6 ê³µì‹ ë¬¸ì„œ](https://reactrouter.com/en/main/start/overview)

---

## END
